<!-- Filtros -->

<form #frm="ngForm">
    <div class="p-4 bg-white shadow">
        <div class="ml-10 mr-10 flex flex-col md:flex-row items-center justify-center gap-4">
            <label for="nomeFiltro" class="self-start text-gray-500 font-semibold w-80">Pesquisa por nome</label>
            <input  type="text"
                    name="nomeFiltro"
                    id="nomeFiltro"
                    [(ngModel)]="nomeFiltro"                    
                    placeholder="Pesquisar pelo nome do local"
                    class="w-full border border-gray-300 p-2 rounded shadow-sm focus:ring focus:ring-purple-400"
            />
            <label for="categoriaFiltro" class="self-start text-gray-500 font-semibold w-80">Pesquisa por categorias</label>
            <select name="categoriaFiltro"
                    id="categoriaFiltro"
                    [(ngModel)]="categoriaFiltro"             
                    class="w-full border border-gray-300 p-2 rounded shadow-sm focus:ring focus:ring-purple-400">
                <option [value]="-1">Todas as Categorias</option>
                <option *ngFor="let cat of categoriasFiltro" [value]="cat.nome">{{cat.nome}}</option>
            </select>

            <button (click)="filtrar()"
                    class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-800 sm:w-full md:w-auto">
                Pesquisar
            </button>
        </div>
    </div>
</form>

<!-- Listagem Lugares -->
<div id="lugaresList" class="ml-10 mr-10 p-4 grid grid-col-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="bg-white shadow rounded overflow-hidden" *ngFor="let lugar of lugares">
        <img [src]="lugar.urlFoto" [alt]="lugar.nome" class="w-full h-40 object-cover"/>
        <div class="p-4">
            <h2 class="text-lg font-semibold">{{lugar.nome}}</h2>
            <p class="text-gray-500">Categoria: <span class="text-purple-600">{{lugar.categoria}}</span></p>
            <p class="text-gray-500">Localização: {{lugar.localizacao}}</p>
            <div class="mt-2 flex items-center">
                <span class="text-yellow-500" [innerHTML]="getTotalEstrelas(lugar)"></span>
                <span class="ml-2 text-gray-600">{{lugar.avaliacao}}</span>
            </div>
        </div>
    </div>
</div>